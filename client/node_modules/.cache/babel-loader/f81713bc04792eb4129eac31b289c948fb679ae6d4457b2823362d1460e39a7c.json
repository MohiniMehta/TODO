{"ast":null,"code":"import{useEffect,useState}from\"react\";import Todo from\"./Todo\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[todos,setTodos]=useState(\"\");const[content,setContent]=useState(\"\");useEffect(()=>{async function getTodos(){try{const res=await fetch(\"/api/todos\");if(!res.ok){throw new Error(\"Failed to fetch data: \".concat(res.status));}const todos=await res.json();console.log(todos);setTodos(todos);}catch(error){console.error(\"Error fetching data:\",error.message);}}getTodos();},[]);const createNewTodo=async e=>{e.preventDefault();if(content.length>1){const res=await fetch(\"/api/todos\",{method:\"POST\",body:JSON.stringify({todo:content}),headers:{\"Content-Type\":\"application/json\"}});const newTodo=await res.json();setContent(\"\");setTodos([...todos,newTodo]);}};return/*#__PURE__*/_jsxs(\"main\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"TO DO's\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:createNewTodo,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:content,onChange:e=>setContent(e.target.value),placeholder:\"Enter a new todo...\",className:\"form_input\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form__button\",children:\"Create Todo\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"todos\",children:todos.length>0&&todos.map(todo=>/*#__PURE__*/_jsx(Todo,{todo:todo,setTodos:setTodos},todo._id))})]});}","map":{"version":3,"names":["useEffect","useState","Todo","jsx","_jsx","jsxs","_jsxs","App","todos","setTodos","content","setContent","getTodos","res","fetch","ok","Error","concat","status","json","console","log","error","message","createNewTodo","e","preventDefault","length","method","body","JSON","stringify","todo","headers","newTodo","className","children","onSubmit","type","value","onChange","target","placeholder","required","map","_id"],"sources":["C:/Users/mohin/OneDrive/Desktop/git_Clones/todo app/client/src/App.jsx"],"sourcesContent":["import { useEffect, useState} from \"react\";\nimport Todo from \"./Todo\";\n\nexport default function App() {\n   const [todos,setTodos]=useState(\"\");\n   const [content,setContent]=useState(\"\");\n  useEffect(() => {\n    async function getTodos() {\n      try {\n        const res = await fetch(\"/api/todos\");\n        if (!res.ok) {\n          throw new Error(`Failed to fetch data: ${res.status}`);\n        }\n        const todos = await res.json();\n    \n        console.log(todos);\n        setTodos(todos);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error.message);\n      }\n    }\n    getTodos();\n  }, []);\n  \n const createNewTodo= async (e)=>{\n  e.preventDefault();\n  if (content.length>1){\n    const res=await fetch(\"/api/todos\",{\n      method:\"POST\",\n      body: JSON.stringify({todo:content}),\n      headers:{\n        \"Content-Type\":\"application/json\",\n      },\n    });\n    const newTodo =await res.json();\n    setContent(\"\");\n    setTodos([...todos,newTodo]);\n  }\n }\n\n  return (\n   <main className=\"container\">\n    <h1 className=\"title\">TO DO's</h1>\n    <form className=\"form\" onSubmit={createNewTodo}>\n      <input type=\"text\" value={content} onChange={(e)=>setContent(e.target.value)} placeholder=\"Enter a new todo...\" className=\"form_input\" required/>\n      <button type=\"submit\" className=\"form__button\">Create Todo</button>\n    </form>\n    <div className=\"todos\">\n    {(todos.length>0) && \n    todos.map((todo)=>\n    (\n      <Todo key={todo._id} todo={todo} setTodos={setTodos}/>\n    ))\n    }\n    </div>\n   </main>\n  );\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}